function Enum(n,t,i,r){this.intValue=t;this.displayName=r;this.name=i;this.type=n}function Null_reference(){}(function(){function r(n,t,i){return function(r){i.TrackChanges(n,t,r)}}function u(n,t){return function(i){for(var u=[],f=[],e=[],o=i.length,r=0;r<o;r++)u.push(i[r].value),f.push(i[r].status),e.push(i[r].index);t.TrackCollectionChanges(n,u,f,e)}}function t(n,t,i,u){t.TrackChanges?(listener=r(i,u,t),n.listener=listener,n.subscriber=n.subscribe(listener),n.silent=function(t){n.subscriber.dispose();n(t instanceof Null_reference?null:t);n.subscriber=n.subscribe(n.listener)}):n.silent=n}function f(n,t,i,r){if(t.TrackCollectionChanges){var f=u(i[r],t);n.listener=f;n.subscriber=n.subscribe(f,null,"arrayChange");n.silent=function(t){return function(){n.subscriber.dispose();t.apply(n,arguments);n.subscriber=n.subscribe(f,null,"arrayChange")}}}else n.silent=function(t){return function(){t.apply(n,arguments)}};n.silentsplice=n.silent(n.splice);n.silentremoveAll=n.silent(n.removeAll)}function n(i,r,u,e){var l,o,s,h,v,a,c;if(typeof i!="object"||i instanceof Date||i instanceof Enum)return i;if(n.Cache||(n.Cache={},n._MappedId=0),u||(u={}),e||(e={}),i instanceof Null_reference)return r===null?(u.Register&&u.Register(i),u.End&&u.End(i),i):null;if(i._MappedId!==undefined){if(l=n.Cache[i._MappedId],l)return r===null&&u.End&&u.End(l),l}else{while(n.Cache[n._MappedId])n._MappedId++;i._MappedId=n._MappedId}o={};n.Cache[i._MappedId]=o;u.Register&&(r===null?u.Register(o):r.index===undefined?u.Register(o,r.object,r.attribute):u.Register(o,r.object,r.attribute,r.index));for(s in i)if(s!=="_MappedId"&&i.hasOwnProperty(s))if(h=i[s],h!==null&&typeof h=="object")if(Array.isArray(h)){for(a=[],c=0;c<h.length;++c)a.push(n(h[c],{object:o,attribute:s,index:c},u,e));o[s]=ko.observableArray(a);u.Register&&u.Register(o[s],o,s);f(o[s],e,o,s)}else v=n(h,{object:o,attribute:s},u,e),o[s]=ko.observable(v),t(o[s],e,o,s);else o[s]=ko.observable(h),t(o[s],e,o,s);return r===null&&u.End&&u.End(o),o}ko.isDate=function(n){return n instanceof Date};ko.MapToObservable=function(t,i,r){return n(t,null,i,r)};ko.toJSONreplacer=function(){function i(r,u,f){var h,c,o,e,s;if(f=f||[],f.indexOf(r)!==-1){h=n.indexOf(r);h>=0?t[h].push(u):(n.push(r),t.push([u]));return}c=f.push(r);for(o in r)if(r.hasOwnProperty(o)&&(e=r[o],e!==null&&typeof e=="object"))if(Array.isArray(e))for(s=0;s<e.length;++s)i(e[s],o,f);else i(e,o,f);f.splice(c-1,1)}var n=[],t=[],r=!0;return function(u,f){r&&(r=!1,i(f));var e=n.indexOf(f);return e>=0&&t[e].indexOf(u)>=0?"[Circular]":f}};ko.bindingHandlers.command={preprocess:function(n,t,i){return i("commandOnEvent",'{ "command": "'+n+'", "event": "click"}'),n}};ko.bindingHandlers.commandOnEvent={preprocess:function(n,t,i){var r=JSON.parse(n.replace(/'/g,'"'));return i("enable",r.command+"()!==null && "+r.command+"().CanExecute($data)===undefined &&"+r.command+"().CanExecuteCount() &&"+r.command+"().CanExecuteValue()"),i("event","{"+r.event+": function(){ if ("+r.command+"()!==null) {"+r.command+"().Execute($data);}}}"),n}};ko.bindingHandlers.execute={preprocess:function(n,t,i){return i("executeOnEvent",'{ "command": "'+n+'", "event": "click"}'),n}};ko.bindingHandlers.executeOnEvent={preprocess:function(n,t,i){var r=JSON.parse(n.replace(/'/g,'"'));return i("event","{"+r.event+": function(){ if ("+r.command+"()!==null) {"+r.command+"().Execute($data);}}}"),n}};ko.bindingHandlers.numberInput={init:function(n,t){var i=t();n.addEventListener("change",function(){i(Number(n.value))},!1)},update:function(n,t){var i=t();n.value=i()}};ko.getimage=function(n){if(!n instanceof Enum||!ko.Enumimages)return null;var t=ko.Enumimages[n.type];return t?t[n.name]:null};ko.images=function(n){return!ko.Enumimages?null:ko.Enumimages[n]};ko.bindingHandlers.enumimage={update:function(n,t){var r=ko.utils.unwrapObservable(t()),i=ko.getimage(r);i&&(n.src=i)}};ko.bindingHandlers.enumimagewithfallback={update:function(n,t){var i=ko.utils.unwrapObservable(t()),r=ko.getimage(i.image)||i.fallback;n.src=r}};ko.bindingHandlers.onclose={preprocess:function(n){return"{when: $root.__window__().State, do: "+n+"}"},init:function(n,t,i,r,u){u.$root.__window__().IsListeningClose(!0)},update:function(n,t,i,r,u){var f=ko.utils.unwrapObservable(t());f.when().name==="Closing"&&f.do(function(){u.$root.__window__().CloseReady().Execute()},n)}};ko.bindingHandlers.onopened={preprocess:function(n){return"{when:  $root.__window__().State, do: "+n+"}"},init:function(n,t,i,r,u){u.$root.__window__().IsLiteningOpen(!0)},update:function(n,t,i,r,u){var f=ko.utils.unwrapObservable(t());f.when().name==="Opened"&&f.do(n,function(){u.$root.__window__().EndOpen().Execute()})}};var i=ko.bindingProvider.instance;ko.bindingProvider.instance={nodeHasBindings:i.nodeHasBindings,getBindings:function(n,t){var r;try{r=i.getBindings(n,t)}catch(u){window.console&&console.log&&console.log("binding error : "+u.message,n,t);ko.log&&ko.log("ko binding error: '"+u.message+"'","node HTLM: "+n.outerHTML,"context:"+ko.toJSON(t.$data,ko.toJSONreplacer()))}return r}}})();
//# sourceMappingURL=Ko_Extension.min.js.map
